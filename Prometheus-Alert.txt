âš¡ Step 4: Configure SMTP in Grafana (Email Settings)
Edit Grafana config:

sudo nano /etc/grafana/grafana.ini
Uncomment + set:

[smtp]
enabled = true
host = smtp.gmail.com:587
user = techzeen10@gmail.com
password = "bdof axxf khxi hzkq"   ; (App Password from Gmail)
from_address = techzeen10@gmail.com
from_name = Grafana
startTLS_policy = OpportunisticStartTLS
Save + restart Grafana:

sudo systemctl restart grafana-server
sudo systemctl status grafana-server




âš¡ Step 5: Create Contact Point in Grafana
Open Grafana UI â†’ Alerting â†’ Contact Points â†’ New Contact Point
Type: Email
Name: My Email
Recipients: your@domain.com
Save
(Optional) Send Test Email â†’ check inbox âœ…




âš¡ Step 6: Create Dashboard in Grafana
Open Grafana UI â†’ Dashboards â†’ New Dashboard â†’ Add new panel

In query box, write:

rate(http_request_count[1m])
Panel will show per-minute request rate.

Go to Alert tab â†’ Enable Alert.

Condition: A > 0 â†’ means request received.

Notification â†’ Select Contact Point: My Email.

Save Dashboard âœ…

âœ… Final Result
Express app will expose metrics.
Prometheus will scrape those metrics.
Grafana dashboard will show request rate graph (rate(http_request_count[1m])).
If a request comes in â†’ condition A > 0 triggers.
Grafana will immediately send you an email alert ğŸš¨ğŸ“§
ğŸ‘‰ Result Example:

Open http://localhost:3001/ â†’ request count increases.
Grafana dashboard shows a spike ğŸ“ˆ
Your email inbox receives:
"Alert firing: Express App Request Alert â€“ at least 1 request detected!"